# PostgreSQL Configuration - Standard Mode (512MB RAM limit)
# Balanced configuration for typical development

# Memory Settings
shared_buffers = 128MB                   # 25% of 512MB
effective_cache_size = 256MB             # 50% of 512MB
maintenance_work_mem = 64MB              # For maintenance operations
work_mem = 4MB                           # Per query operation
wal_buffers = 4MB                        # WAL buffer size

# Connection Settings
listen_addresses = '*'                   # Accept connections from any host
max_connections = 50                     # Standard development load
superuser_reserved_connections = 3

# Query Planner
random_page_cost = 1.1                   # SSD optimized
seq_page_cost = 1.0
cpu_tuple_cost = 0.01
cpu_index_tuple_cost = 0.005
cpu_operator_cost = 0.0025
effective_io_concurrency = 200           # SSD concurrent requests

# Checkpoints - Balanced
checkpoint_completion_target = 0.9
checkpoint_timeout = 5min
max_wal_size = 1GB
min_wal_size = 80MB

# Logging - Development friendly
log_statement = 'all'                    # Log all statements
log_duration = on
log_min_duration_statement = 100ms       # Log slow queries
log_checkpoints = on
log_connections = on
log_disconnections = on
log_lock_waits = on

# Background Writer
bgwriter_delay = 200ms
bgwriter_lru_maxpages = 100
bgwriter_lru_multiplier = 2.0

# Autovacuum - More aggressive
autovacuum_max_workers = 2
autovacuum_naptime = 1min